{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Phone.tsx","components/PhonesCatalog.tsx","api/helpers.ts","components/PhonesPage.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Phone","phone","handleAdd","id","name","imageUrl","snippet","className","src","alt","type","onClick","e","mapDispatchToProps","loadPhones","actions","setPhones","setBasket","PhonesCatalog","connect","state","phones","catalogReducer","basket","basketReducer","filter","sort","useState","addItemToBascket","preventDefault","itemIndex","findIndex","map","item","index","quantity","useEffect","a","b","age","localeCompare","phonesToShow","useMemo","filterToLowerCase","toLowerCase","toLocaleLowerCase","includes","filterPhones","key","to","PhonesPageTemplate","setFilter","setSort","onChange","target","placeholder","defaultValue","handleSelect","disabled","PhonesPage"],"mappings":"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","file":"static/js/4.fa2accd1.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { FC, MouseEvent } from 'react';\n\ninterface Props {\n  phone: Phone;\n  handleAdd: (e: MouseEvent<HTMLButtonElement>, id: string) => void;\n}\n\nexport const Phone: FC<Props> = ({ phone, handleAdd }) => {\n  const { id, name, imageUrl, snippet } = phone;\n\n  return (\n    <div className=\"phone\">\n      <img className=\"phone__img\" src={imageUrl} alt=\"phoneImg\" />\n      <div className=\"phone__info\">\n        <h3 className=\"phone__name\">{name}</h3>\n        <p className=\"phone__description\">{snippet}</p>\n        <button\n          className=\"phone__add\"\n          type=\"button\"\n          onClick={(e) => handleAdd(e, id)}\n        >\n          Add to cart\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, FC, useMemo, MouseEvent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Phone } from './Phone';\nimport { filterPhones } from '../api/helpers';\nimport { Basket } from './Basket';\nimport * as actions from '../redux/actions';\n\ninterface Props {\n  filter: string;\n  sort: string;\n  phones: Phone[];\n  basket: Basket[];\n  loadPhones: () => void;\n  setPhones: (phones: Phone[]) => void;\n  setBasket: (basket: Basket[]) => void;\n}\n\nexport const PhonesCatalogTemplate: FC<Props> = ({\n  filter,\n  sort,\n  phones,\n  basket,\n  loadPhones,\n  setPhones,\n  setBasket,\n}) => {\n  const [isOpenedBasket, setisOpenedBasket] = useState(false);\n\n  const addItemToBascket = (e: MouseEvent<HTMLButtonElement>, id: string) => {\n    e.preventDefault();\n    const itemIndex = basket.findIndex(phone => phone.id === id);\n\n    if (itemIndex !== -1) {\n      setBasket([...basket].map((item, index) => {\n        if (index === itemIndex) {\n          return {\n            ...item,\n            quantity: item.quantity + 1,\n          };\n        }\n\n        return item;\n      }));\n    } else {\n      setBasket([...basket, {\n        id, quantity: 1, phone: `/phones/${id}`,\n      }]);\n    }\n  };\n\n  useEffect(() => {\n    loadPhones();\n  }, []);\n\n  useEffect(() => {\n    switch (sort) {\n      case 'age': {\n        setPhones([...phones].sort((a, b) => a.age - b.age));\n        break;\n      }\n\n      case 'name': {\n        setPhones([...phones].sort((a, b) => a.name.localeCompare(b.name)));\n        break;\n      }\n\n      default:\n        setPhones(phones);\n    }\n  }, [sort]);\n\n  const phonesToShow = useMemo(() => {\n    if (!phones.length) {\n      return [];\n    }\n\n    return filterPhones(filter, phones);\n  }, [filter, phones]);\n\n  return (\n    <>\n      <ul className=\"phones__list\">\n        {phonesToShow.map(phone => (\n          <li className=\"phones__item\" key={phone.id}>\n            <Link className=\"link\" to={`/phones/${phone.id}`}>\n              <Phone phone={phone} handleAdd={addItemToBascket} />\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\n/// //////////////////////////////////////////\n\nconst mapStateToProps = (\n  state: {\n    catalogReducer: CatalogState;\n    basketReducer: BasketState;\n  },\n) => ({\n  phones: state.catalogReducer.phones,\n  basket: state.basketReducer.basket,\n});\n\nconst mapDispatchToProps = {\n  loadPhones: actions.loadPhones,\n  setPhones: actions.setPhones,\n  setBasket: actions.setBasket,\n};\n\nexport const PhonesCatalog = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(PhonesCatalogTemplate);\n","export const filterPhones = (filter: string, phones: Phone[]): Phone[] => {\n  const filterToLowerCase = filter.toLowerCase();\n\n  return phones\n    .filter(phone => phone.name.toLocaleLowerCase().includes(filterToLowerCase)\n      || phone.snippet.toLocaleLowerCase().includes(filterToLowerCase));\n};\n","import React, { FC, useState, ChangeEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { PhonesCatalog } from './PhonesCatalog';\n\ninterface Props {\n  phones: Phone[];\n}\n\nexport const PhonesPageTemplate: FC<Props> = ({ phones }) => {\n  const [filter, setFilter] = useState('');\n  const [sort, setSort] = useState('age');\n\n  const handleFilter = (e: ChangeEvent<HTMLInputElement>): void => {\n    setFilter(e.target.value);\n  };\n\n  const handleSelect = (e: ChangeEvent<HTMLSelectElement>) => {\n    setSort(e.target.value);\n  };\n\n  return (\n    <div className=\"phones\">\n      <h2 className=\"phones__header\">Mobile phones</h2>\n      <p className=\"phones__quantity\">\n        {phones.length}\n        {' '}\n         models\n      </p>\n      <div className=\"settings\">\n        <input\n          type=\"text\"\n          value={filter}\n          onChange={handleFilter}\n          className=\"settings__search\"\n          placeholder=\"Search...\"\n        />\n        <select\n          defaultValue=\"disabled\"\n          onChange={(e) => handleSelect(e)}\n          className=\"settings__select\"\n        >\n          <option value=\"disabled\" disabled>Sort by</option>\n          <option value=\"age\">Date</option>\n          <option value=\"name\">Name</option>\n        </select>\n      </div>\n      <PhonesCatalog filter={filter} sort={sort} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (\n  state: {\n    catalogReducer: CatalogState;\n  },\n) => ({\n  phones: state.catalogReducer.phones,\n});\n\nexport const PhonesPage = connect(\n  mapStateToProps,\n  null,\n)(PhonesPageTemplate);\n"],"sourceRoot":""}