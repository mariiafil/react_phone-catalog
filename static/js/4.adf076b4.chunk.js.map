{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Phone.tsx","components/PhonesCatalog.tsx","api/helpers.ts","components/PhonesPage.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Phone","phone","handleAdd","basket","id","name","imageUrl","snippet","className","src","alt","find","item","type","disabled","onClick","e","mapDispatchToProps","loadPhones","actions","setPhones","setBasket","PhonesCatalog","connect","state","phones","catalogReducer","basketReducer","filter","sort","addItemToBascket","preventDefault","quantity","useEffect","a","b","age","localeCompare","phonesToShow","useMemo","filterToLowerCase","toLowerCase","toLocaleLowerCase","includes","filterPhones","map","key","to","PhonesPageTemplate","useState","setFilter","setSort","onChange","target","placeholder","defaultValue","handleSelect","PhonesPage"],"mappings":"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","file":"static/js/4.adf076b4.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { FC, MouseEvent } from 'react';\n\ninterface Props {\n  phone: Phone;\n  handleAdd: (e: MouseEvent<HTMLButtonElement>, id: string) => void;\n  basket: Basket[];\n}\n\nexport const Phone: FC<Props> = ({ phone, handleAdd, basket }) => {\n  const { id, name, imageUrl, snippet } = phone;\n\n  return (\n    <div className=\"phone\">\n      <img className=\"phone__img\" src={imageUrl} alt=\"phoneImg\" />\n      <div className=\"phone__info\">\n        <h3 className=\"phone__name\">{name}</h3>\n        <p className=\"phone__description\">{snippet}</p>\n\n        {basket.find(item => item.id === id)\n          ? (\n            <button\n              className=\"phone__added\"\n              type=\"button\"\n              disabled\n            >\n              Added to cart\n            </button>\n          )\n          : (\n            <button\n              className=\"phone__add\"\n              type=\"button\"\n              onClick={(e) => handleAdd(e, id)}\n            >\n              Add to cart\n            </button>\n          )}\n\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, FC, useMemo, MouseEvent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Phone } from './Phone';\nimport { filterPhones } from '../api/helpers';\nimport { Basket } from './Basket';\nimport * as actions from '../redux/actions';\n\ninterface Props {\n  filter: string;\n  sort: string;\n  phones: Phone[];\n  basket: Basket[];\n  loadPhones: () => void;\n  setPhones: (phones: Phone[]) => void;\n  setBasket: (basket: Basket[]) => void;\n}\n\nexport const PhonesCatalogTemplate: FC<Props> = ({\n  filter,\n  sort,\n  phones,\n  basket,\n  loadPhones,\n  setPhones,\n  setBasket,\n}) => {\n  const addItemToBascket = (e: MouseEvent<HTMLButtonElement>, id: string) => {\n    e.preventDefault();\n\n    setBasket([...basket, {\n      id, quantity: 1, phone: `/phones/${id}`,\n    }]);\n  };\n\n  useEffect(() => {\n    loadPhones();\n  }, []);\n\n  useEffect(() => {\n    switch (sort) {\n      case 'age': {\n        setPhones([...phones].sort((a, b) => a.age - b.age));\n        break;\n      }\n\n      case 'name': {\n        setPhones([...phones].sort((a, b) => a.name.localeCompare(b.name)));\n        break;\n      }\n\n      default:\n        setPhones(phones);\n    }\n  }, [sort]);\n\n  const phonesToShow = useMemo(() => {\n    if (!phones.length) {\n      return [];\n    }\n\n    return filterPhones(filter, phones);\n  }, [filter, phones]);\n\n  return (\n    <>\n      <ul className=\"phones__list\">\n        {phonesToShow.map(phone => (\n          <li className=\"phones__item\" key={phone.id}>\n            <Link className=\"link\" to={`/phones/${phone.id}`}>\n              <Phone\n                phone={phone}\n                handleAdd={addItemToBascket}\n                basket={basket}\n              />\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nconst mapStateToProps = (\n  state: {\n    catalogReducer: CatalogState;\n    basketReducer: BasketState;\n  },\n) => ({\n  phones: state.catalogReducer.phones,\n  basket: state.basketReducer.basket,\n});\n\nconst mapDispatchToProps = {\n  loadPhones: actions.loadPhones,\n  setPhones: actions.setPhones,\n  setBasket: actions.setBasket,\n};\n\nexport const PhonesCatalog = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(PhonesCatalogTemplate);\n","export const filterPhones = (filter: string, phones: Phone[]): Phone[] => {\n  const filterToLowerCase = filter.toLowerCase();\n\n  return phones\n    .filter(phone => phone.name.toLocaleLowerCase().includes(filterToLowerCase)\n      || phone.snippet.toLocaleLowerCase().includes(filterToLowerCase));\n};\n","import React, { FC, useState, ChangeEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { PhonesCatalog } from './PhonesCatalog';\n\ninterface Props {\n  phones: Phone[];\n}\n\nexport const PhonesPageTemplate: FC<Props> = ({ phones }) => {\n  const [filter, setFilter] = useState('');\n  const [sort, setSort] = useState('age');\n\n  const handleFilter = (e: ChangeEvent<HTMLInputElement>): void => {\n    setFilter(e.target.value);\n  };\n\n  const handleSelect = (e: ChangeEvent<HTMLSelectElement>) => {\n    setSort(e.target.value);\n  };\n\n  return (\n    <div className=\"phones\">\n      <h2 className=\"phones__header\">Mobile phones</h2>\n      <p className=\"phones__quantity\">\n        {phones.length}\n        {' '}\n         models\n      </p>\n      <div className=\"settings\">\n        <input\n          type=\"text\"\n          value={filter}\n          onChange={handleFilter}\n          className=\"settings__search\"\n          placeholder=\"Search...\"\n        />\n        <select\n          defaultValue=\"disabled\"\n          onChange={(e) => handleSelect(e)}\n          className=\"settings__select\"\n        >\n          <option value=\"disabled\" disabled>Sort by</option>\n          <option value=\"age\">Date</option>\n          <option value=\"name\">Name</option>\n        </select>\n      </div>\n      <PhonesCatalog filter={filter} sort={sort} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (\n  state: {\n    catalogReducer: CatalogState;\n  },\n) => ({\n  phones: state.catalogReducer.phones,\n});\n\nexport const PhonesPage = connect(\n  mapStateToProps,\n  null,\n)(PhonesPageTemplate);\n"],"sourceRoot":""}