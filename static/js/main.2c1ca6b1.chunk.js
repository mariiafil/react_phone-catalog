(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{21:function(e,t,a){},33:function(e,t,a){e.exports=a(63)},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(17),s=a.n(l),r=a(3),i=a(10),o=a(4),m=a(11),u=a(29),d=a(16),p=a.n(d),_=a(23),E="SET_PHONES",h="SET_BASKET",f="SET_LIKES",v="SET_PHONE_DETAILS",b="SET_ERROR",g="SET_IS_LOADING",N="SET_IS_LOADED",k=function(e){return{type:N,isLoaded:e}},y=function(e){return{type:g,isLoading:e}},L=function(e){return{type:E,phones:e}},O=function(e){return{type:v,phone:e}},j=function(e){return{type:h,basket:e}},R=function(e){return{type:f,likes:e}},S=function(e){return{type:b,error:e}},w={phones:[]},C={basket:[]},x={likes:[]},D={phone:null},A={error:null},T=a(12),I={isLoading:!1,isLoaded:!1},B=Object(m.c)({catalogReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{phones:t.phones};default:return e}},basketReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{basket:t.basket};default:return e}},likesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{likes:t.likes};default:return e}},phoneDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{phone:t.phone};default:return e}},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{error:t.error};default:return e}},loadReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(T.a)({},e,{isLoaded:t.isLoaded});case g:return Object(T.a)({},e,{isLoading:t.isLoading});default:return e}}}),P=Object(m.d)(B,Object(m.a)(u.a)),q=Object(o.b)((function(e){return{basket:e.basketReducer.basket,likes:e.likesReducer.likes}}))((function(e){var t=e.basket,a=e.likes;return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__navigation-block"},c.a.createElement("div",{className:"header__logo"},c.a.createElement("img",{src:"img/Apple.svg",alt:"Apple"}),c.a.createElement("img",{src:"img/Drocher.svg",alt:"Drocher"})),c.a.createElement("nav",{className:"navigation"},c.a.createElement("ul",{className:"navigation__list"},c.a.createElement("li",null,c.a.createElement(r.NavLink,{to:"/",exact:!0,className:"navigation__item",activeClassName:"navigation__item--active"},"Home")),c.a.createElement("li",null,c.a.createElement(r.NavLink,{to:"/phones",activeClassName:"navigation__item--active",className:"navigation__item"},"Phones"))))),c.a.createElement("div",{className:"navigation__additional"},c.a.createElement(r.NavLink,{to:"/favorites",exact:!0,className:"navigation__item navigation__item--like",activeClassName:"navigation__item--active-additional"},a.length>0&&c.a.createElement("span",{className:"navigation__basket-items"},a.length)),c.a.createElement(r.NavLink,{to:"/cart",exact:!0,className:"navigation__item navigation__item--cart",activeClassName:"navigation__item--active-additional"},t.length>0&&c.a.createElement("span",{className:"navigation__basket-items"},t.reduce((function(e,t){return e+t.quantity}),0)))))})),H=(a(21),function(){return c.a.createElement("h1",null,"Home page")}),F=a(6),M=a(15),G=function(){return c.a.createElement("div",{className:"not-found"},c.a.createElement("h3",{className:"not-found__header"},"This phone not found"))},z=a(31),J=a.n(z),K=function(){return c.a.createElement("div",{className:"loader__wrapper"},c.a.createElement(J.a,{type:"ThreeDots",color:"#000",height:100,width:100}))},Y={loadPhoneDetails:function(e){return function(t){t(S(null)),t(k(!1)),t(y(!0)),fetch(function(e){return"https://mate-academy.github.io/phone-catalogue-static/api/phones/".concat(e,".json")}(e)).then(function(){var e=Object(_.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok){e.next=10;break}return e.t0=t,e.t1=O,e.next=5,a.json();case 5:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=11;break;case 10:throw new Error(a.statusText);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return t(S(e))})).finally((function(){t(k(!0)),t(y(!1))}))}},setBasket:j},U=Object(o.b)((function(e){return{phone:e.phoneDetailsReducer.phone,error:e.errorReducer.error,basket:e.basketReducer.basket,isLoaded:e.loadReducer.isLoaded,isLoading:e.loadReducer.isLoading}}),Y)((function(e){var t=e.id,a=e.phone,l=e.error,s=e.basket,r=e.isLoaded,i=e.isLoading,o=e.loadPhoneDetails,m=e.setBasket,u=Object(n.useState)(void 0),d=Object(M.a)(u,2),p=d[0],_=d[1];Object(n.useEffect)((function(){o(t)}),[]),Object(n.useEffect)((function(){o(t)}),[t]),Object(n.useEffect)((function(){_(null===a||void 0===a?void 0:a.images[0])}),[a]);return i&&!r?c.a.createElement(K,null):!l&&a&&r?c.a.createElement("section",{className:"details"},c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"info__slider"},c.a.createElement("img",{src:p,alt:"phone_img",className:"info__slider-img"})),c.a.createElement("div",{className:"info__base"},c.a.createElement("h3",{className:"info__header"},a.id),c.a.createElement("p",{className:"info__description"},a.description),s.find((function(e){return e.id===t}))?c.a.createElement("button",{className:"phone__added",type:"button",disabled:!0},"Added to cart"):c.a.createElement("button",{className:"phone__add",type:"button",onClick:function(e){return function(e,a){e.preventDefault(),m([].concat(Object(F.a)(s),[{id:a,quantity:1,phone:"/phones/".concat(t)}]))}(e,t)}},"Add to cart"),c.a.createElement("ul",{className:"info__list"},a.images.map((function(e){return c.a.createElement("li",{key:e,className:"info__item"},c.a.createElement("button",{type:"button",className:"info__button",onClick:function(){return function(e){_(e)}(e)}},c.a.createElement("img",{src:e,alt:"device",className:"info__item-img"})))}))))),c.a.createElement("div",{className:"details__wrapper"},c.a.createElement("div",{className:"details__about"},c.a.createElement("h3",null,"About"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Availability and Networks"),c.a.createElement("p",{className:"details__naming-description"},a.availability)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Additional features"),c.a.createElement("p",{className:"details__naming-description"},a.additionalFeatures)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Camera"),c.a.createElement("p",{className:"details__naming-description"},a.camera.primary)))),c.a.createElement("div",{className:"details__tech"},c.a.createElement("h3",null,"Tech specs"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Screen size"),c.a.createElement("p",{className:"details__naming-description"},a.display.screenSize)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Screen resolution"),c.a.createElement("p",{className:"details__naming-description"},a.display.screenResolution)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"TouchScreen"),c.a.createElement("p",{className:"details__naming-description"},a.display.touchScreen?"yes":"no")),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Storage and Memory"),c.a.createElement("p",{className:"details__naming-description"},a.storage.flash)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"RAM"),c.a.createElement("p",{className:"details__naming-description"},a.storage.ram)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Network support"),c.a.createElement("p",{className:"details__naming-description"},a.connectivity.cell)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"WI-FI"),c.a.createElement("p",{className:"details__naming-description"},a.connectivity.wifi)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Bluetooth"),c.a.createElement("p",{className:"details__naming-description"},a.connectivity.bluetooth)),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"Infrared"),c.a.createElement("p",{className:"details__naming-description"},a.connectivity.infrared?"yes":"no")),c.a.createElement("li",null,c.a.createElement("p",{className:"details__naming"},"GPS"),c.a.createElement("p",{className:"details__naming-description"},a.connectivity.gps?"yes":"no")))))):c.a.createElement(G,null)})),V=function(e){var t=e.match;return c.a.createElement("div",{className:"details-page"},c.a.createElement(U,{id:t.params.phoneId}))},W={setPhones:L,setBasket:j,setLikes:R},Q=Object(o.b)(null,W)((function(e){var t=e.phone,a=e.basket,n=e.likes,l=e.setBasket,s=e.setLikes,r=t.id,i=t.name,o=t.imageUrl,m=t.snippet,u=function(e,t){e.preventDefault();var a=n.findIndex((function(e){return e===t}));s(-1===a?[].concat(Object(F.a)(n),[t]):Object(F.a)(n.filter((function(e){return e!==t}))))};return c.a.createElement("div",{className:"phone"},c.a.createElement("img",{className:"phone__img",src:o,alt:"phoneImg"}),c.a.createElement("div",{className:"phone__info"},c.a.createElement("h3",{className:"phone__name"},i),c.a.createElement("p",{className:"phone__description"},m),c.a.createElement("div",{className:"phone__buttons"},a.find((function(e){return e.id===r}))?c.a.createElement("button",{className:"phone__added",type:"button",disabled:!0},"Added to cart"):c.a.createElement("button",{className:"phone__add",type:"button",onClick:function(e){return function(e,t){e.preventDefault(),l([].concat(Object(F.a)(a),[{id:t,quantity:1,phone:"/phones/".concat(t)}]))}(e,r)}},"Add to cart"),n.includes(r)?c.a.createElement("button",{type:"button",className:"phone__like",onClick:function(e){return u(e,r)}}):c.a.createElement("button",{type:"button",className:"phone__dislike",onClick:function(e){return u(e,r)}}))))})),X={loadPhones:function(){return function(e){e(y(!0)),e(k(!1)),fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones.json").then(function(){var t=Object(_.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=L,t.next=4,a.json();case 4:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.abrupt("return",(0,t.t0)(t.t3));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){e(k(!0)),e(y(!1))}))}},setPhones:L,setBasket:j,setLikes:R},Z=Object(o.b)((function(e){return{likes:e.likesReducer.likes,phones:e.catalogReducer.phones,basket:e.basketReducer.basket,isLoaded:e.loadReducer.isLoaded,isLoading:e.loadReducer.isLoading}}),X)((function(e){var t=e.filter,a=e.sort,l=e.phones,s=e.basket,i=e.likes,o=e.isLoaded,m=e.isLoading,u=e.loadPhones,d=e.setPhones;Object(n.useEffect)((function(){u()}),[]),Object(n.useEffect)((function(){switch(a){case"age":d(Object(F.a)(l).sort((function(e,t){return e.age-t.age})));break;case"name":d(Object(F.a)(l).sort((function(e,t){return e.name.localeCompare(t.name)})));break;default:d(l)}}),[a]);var p=Object(n.useMemo)((function(){return l.length?function(e,t){var a=e.toLowerCase();return t.filter((function(e){return e.name.toLocaleLowerCase().includes(a)||e.snippet.toLocaleLowerCase().includes(a)}))}(t,l):[]}),[t,l]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"phones__list"},m&&c.a.createElement(K,null),o&&p.map((function(e){return c.a.createElement("li",{className:"phones__item",key:e.id},c.a.createElement(r.Link,{className:"link",to:"/phones/".concat(e.id)},c.a.createElement(Q,{phone:e,basket:s,likes:i})))}))))})),$=Object(o.b)((function(e){return{phones:e.catalogReducer.phones}}),null)((function(e){var t=e.phones,a=Object(n.useState)(""),l=Object(M.a)(a,2),s=l[0],r=l[1],i=Object(n.useState)("age"),o=Object(M.a)(i,2),m=o[0],u=o[1];return c.a.createElement("div",{className:"phones",id:"header"},c.a.createElement("h2",{className:"phones__header"},"Mobile phones"),c.a.createElement("p",{className:"phones__quantity"},t.length," ","models"),c.a.createElement("div",{className:"settings"},c.a.createElement("input",{type:"text",value:s,onChange:function(e){r(e.target.value)},className:"settings__search",placeholder:"Search..."}),c.a.createElement("select",{defaultValue:"disabled",onChange:function(e){return function(e){u(e.target.value)}(e)},className:"settings__select"},c.a.createElement("option",{value:"disabled",disabled:!0},"Sort by"),c.a.createElement("option",{value:"age"},"Date"),c.a.createElement("option",{value:"name"},"Name"))),c.a.createElement(Z,{filter:s,sort:m}))})),ee=function(){return c.a.createElement("div",{className:"not-found"},c.a.createElement("h3",{className:"not-found__header"},"This page not found"))},te=a(32),ae=function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"footer__logo"},c.a.createElement(r.Link,{to:"/"},c.a.createElement("img",{src:"img/Apple.svg",alt:"Apple"}),c.a.createElement("img",{src:"img/Drocher.svg",alt:"Drocher"}))),c.a.createElement("nav",{className:"footer__nav"},c.a.createElement("ul",{className:"footer__nav-list"},c.a.createElement("li",null,c.a.createElement("a",{href:"https://github.com/",className:"footer__nav-item",target:"blanc"},"Github")),c.a.createElement("li",null,c.a.createElement(r.NavLink,{to:"/contacts",className:"footer__nav-item"},"Contacts")),c.a.createElement("li",null,c.a.createElement(r.NavLink,{to:"/rights",className:"footer__nav-item"},"Rights")))),c.a.createElement("div",{className:"footer__up-conteiner"},c.a.createElement(te.HashLink,{to:"".concat(Object(i.l)().pathname,"#header"),className:"footer__up"},c.a.createElement("p",null,"Back to top"),c.a.createElement("span",{className:"footer__up-button"}))))},ne={setBasket:j},ce=Object(o.b)((function(e){return{basket:e.basketReducer.basket}}),ne)((function(e){var t=e.basket,a=e.setBasket;return t.length>0?c.a.createElement("div",{className:"basket"},c.a.createElement("h2",null,"Cart"),c.a.createElement("ul",null,t.length&&t.map((function(e){return c.a.createElement("li",{className:"basket__item",key:e.id},c.a.createElement("button",{className:"basket__remove",type:"button",onClick:function(){var n;n=e.id,a(Object(F.a)(t.filter((function(e){return e.id!==n}))))}}),c.a.createElement("p",{className:"basket__name"},e.id),c.a.createElement("button",{className:"basket__counter basket__counter--minus",type:"button",onClick:function(){return n=e.id,void a(Object(F.a)(t.map((function(e){return e.id===n?Object(T.a)({},e,{quantity:e.quantity-1}):e}))));var n},disabled:1===e.quantity}),c.a.createElement("p",{className:"basket__quantity"},"".concat(e.quantity)),c.a.createElement("button",{className:"basket__counter basket__counter--plus",type:"button",onClick:function(){return n=e.id,void a(Object(F.a)(t.map((function(e){return e.id===n?Object(T.a)({},e,{quantity:e.quantity+1}):e}))));var n}}),c.a.createElement(r.Link,{className:"link",to:"/phones/".concat(e.id)},c.a.createElement("p",null,"See details")))})))):c.a.createElement("div",{className:"basket"},c.a.createElement("h2",null,"Cart"),c.a.createElement("p",null,"Your cart is empty..."))})),le={setPhones:L,setBasket:j,setLikes:R},se=Object(o.b)((function(e){return{likes:e.likesReducer.likes,phones:e.catalogReducer.phones,basket:e.basketReducer.basket}}),le)((function(e){var t=e.phones,a=e.basket,n=e.likes;return c.a.createElement("div",{className:"favorites",id:"header"},c.a.createElement("h2",{className:"favorites__header"},"Favorites"),n.length>0&&c.a.createElement("p",{className:"favorites__number"},n.length," ","models"),n.length>0?c.a.createElement("div",{className:"favorites__collection"},t.filter((function(e){return n.includes(e.id)})).map((function(e){return c.a.createElement("li",{className:"phones__item",key:e.id},c.a.createElement(r.Link,{className:"link",to:"/phones/".concat(e.id)},c.a.createElement(Q,{phone:e,basket:a,likes:n})))}))):c.a.createElement("p",{className:"favorites__not-found"},"You didn't choose favorite models"))})),re=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement(q,null),c.a.createElement(i.g,null,c.a.createElement(i.d,{path:"/",exact:!0,component:H}),c.a.createElement(i.d,{path:"/phones",exact:!0,component:$}),c.a.createElement(i.d,{path:"/cart",exact:!0,component:ce}),c.a.createElement(i.d,{path:"/favorites",exact:!0,component:se}),c.a.createElement(i.d,{path:"/phones/:phoneId",exact:!0,component:V}),c.a.createElement(i.d,{path:"*",exact:!0,component:ee}))),c.a.createElement(ae,null))))};s.a.render(c.a.createElement(o.a,{store:P},c.a.createElement(r.HashRouter,null,c.a.createElement(i.d,{component:re}))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.2c1ca6b1.chunk.js.map