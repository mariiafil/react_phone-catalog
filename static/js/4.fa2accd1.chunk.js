(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[4],{64:function(e,t,a){"use strict";var n=a(23);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,c=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},67:function(e,t,a){"use strict";a.r(t);var n=a(64),r=a(0),c=a.n(r),o=a(11),s=a(19),l=a(16),i=a(8),u=function(e){var t=e.phone,a=e.handleAdd,n=t.id,r=t.name,o=t.imageUrl,s=t.snippet;return c.a.createElement("div",{className:"phone"},c.a.createElement("img",{className:"phone__img",src:o,alt:"phoneImg"}),c.a.createElement("div",{className:"phone__info"},c.a.createElement("h3",{className:"phone__name"},r),c.a.createElement("p",{className:"phone__description"},s),c.a.createElement("button",{className:"phone__add",type:"button",onClick:function(e){return a(e,n)}},"Add to cart")))},m=a(6),h={loadPhones:m.a,setPhones:m.c,setBasket:m.b},p=Object(o.b)((function(e){return{phones:e.catalogReducer.phones,basket:e.basketReducer.basket}}),h)((function(e){var t=e.filter,a=e.sort,o=e.phones,m=e.basket,h=e.loadPhones,p=e.setPhones,d=e.setBasket,f=Object(r.useState)(!1),b=Object(n.a)(f,2),g=(b[0],b[1],function(e,t){e.preventDefault();var a=m.findIndex((function(e){return e.id===t}));d(-1!==a?Object(l.a)(m).map((function(e,t){return t===a?Object(s.a)({},e,{quantity:e.quantity+1}):e})):[].concat(Object(l.a)(m),[{id:t,quantity:1,phone:"/phones/".concat(t)}]))});Object(r.useEffect)((function(){h()}),[]),Object(r.useEffect)((function(){switch(a){case"age":p(Object(l.a)(o).sort((function(e,t){return e.age-t.age})));break;case"name":p(Object(l.a)(o).sort((function(e,t){return e.name.localeCompare(t.name)})));break;default:p(o)}}),[a]);var v=Object(r.useMemo)((function(){return o.length?function(e,t){var a=e.toLowerCase();return t.filter((function(e){return e.name.toLocaleLowerCase().includes(a)||e.snippet.toLocaleLowerCase().includes(a)}))}(t,o):[]}),[t,o]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"phones__list"},v.map((function(e){return c.a.createElement("li",{className:"phones__item",key:e.id},c.a.createElement(i.b,{className:"link",to:"/phones/".concat(e.id)},c.a.createElement(u,{phone:e,handleAdd:g})))}))))}));a.d(t,"PhonesPageTemplate",(function(){return d})),a.d(t,"PhonesPage",(function(){return f}));var d=function(e){var t=e.phones,a=Object(r.useState)(""),o=Object(n.a)(a,2),s=o[0],l=o[1],i=Object(r.useState)("age"),u=Object(n.a)(i,2),m=u[0],h=u[1];return c.a.createElement("div",{className:"phones"},c.a.createElement("h2",{className:"phones__header"},"Mobile phones"),c.a.createElement("p",{className:"phones__quantity"},t.length," ","models"),c.a.createElement("div",{className:"settings"},c.a.createElement("input",{type:"text",value:s,onChange:function(e){l(e.target.value)},className:"settings__search",placeholder:"Search..."}),c.a.createElement("select",{defaultValue:"disabled",onChange:function(e){return function(e){h(e.target.value)}(e)},className:"settings__select"},c.a.createElement("option",{value:"disabled",disabled:!0},"Sort by"),c.a.createElement("option",{value:"age"},"Date"),c.a.createElement("option",{value:"name"},"Name"))),c.a.createElement(p,{filter:s,sort:m}))},f=Object(o.b)((function(e){return{phones:e.catalogReducer.phones}}),null)(d)}}]);
//# sourceMappingURL=4.fa2accd1.chunk.js.map